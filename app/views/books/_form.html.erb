<%= form_tag book_path(book), method: :patch do %>
  <% if book.errors.any? %>
    <div class="message error"><%= book.errors.full_messages.join('<br>').html_safe %></div>
  <% end %>

  <% if notice %>
    <div class="message notice"><%= notice %></div>
  <% end %>

  <div class="mt-8">
    <%= label_tag 'title', 'Название' %>
    <%= text_field_tag 'title', book.title %>
  </div>

  <div class="mt-5">
    <%= label_tag 'author_id', 'Автор' %>
    <% authors = Author.all.map { |author| [author.full_name, author.id] } %>
    <% author_options = options_for_select(authors, book.author_id) %>
    <%= select_tag 'author_id', author_options, class: 'select_list' %>
  </div>

  <div class="mt-5">
    <%= label_tag 'genre_id', 'Жанр' %>
    <% genres = Genre.all.map { |genre| [genre.name, genre.id] } %>
    <% genre_options = options_for_select(genres, book.genre_id) %>
    <%= select_tag 'genre_id', genre_options, class: 'select_list' %>
  </div>

  <div class="mt-8" >
    <%= submit_tag 'Обновить' %>
  </div>
<% end %>
