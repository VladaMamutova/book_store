<%= form_with model: book do |form| %>
  <% if book.errors.any? %>
    <div class="message error"><%= book.errors.full_messages.join('<br>').html_safe %></div>
  <% end %>

  <% if notice %>
    <div class="message notice"><%= notice %></div>
  <% end %>

  <div class="mt-8">
    <%= form.label :title, 'Название' %>
    <%= form.text_field :title %>

    <%# Альтернативные варианты: %>
   
    <%# Использование хелпера ActionView::Helpers::FormHelper %>
    <%#= text_field :book, :title %>

    <%# Использование хелпера ActionView::Helpers::FormTagHelper %>
    <%#= text_field_tag 'book[title]', book.title %>
  </div>

  <div class="mt-5">
    <%= form.label :author_id, 'Автор' %>
    <%= form.select 'author_id', author_options(book.author_id), { prompt: 'Выберите автора' }, { class: 'select_list' } %>
  </div>

  <div class="mt-5">
    <%= form.label :genre_id, 'Жанр' %>
    <%= form.collection_select :genre_id, Genre.all, :id, :name, { prompt: 'Выберите жанр' }, { class: 'select_list' } %>
  </div>

  <% button_name = params[:action] == 'new' ? 'Добавить' : 'Обновить' %>
  <div class="mt-8" >
    <%= form.submit button_name %>
  </div>
<% end %>
